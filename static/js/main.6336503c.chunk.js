(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){},173:function(e,t,a){e.exports=a(419)},178:function(e,t,a){},209:function(e,t){},211:function(e,t){},243:function(e,t){},244:function(e,t){},313:function(e,t){},419:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),l=a(172),i=a.n(l),s=(a(178),a(40)),c=a(41),o=a(43),h=a(42),u=a(71),p=a(44);a(100);function g(e){return r.a.createElement("header",null,r.a.createElement("h1",null,"Thaliak's Translations"),r.a.createElement("span",{className:"Subtext"},"A FFXIV Translation Practice Tool"))}function m(e){return r.a.createElement("main",null,e.children)}var f=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(h.a)(t).call(this,e))).state={input:""},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e,t){t.preventDefault(),this.setState({input:t.target.value})}},{key:"handleClick",value:function(e){e.preventDefault(),this.props.handleClick(e),this.props.pState.isNew||this.setState({input:""})}},{key:"render",value:function(){var e=this,t=this.props.pState,a=this.state.input,n=t.isNew?"Show ".concat(t.to):"Next";return r.a.createElement("form",{onSubmit:function(t){e.handleClick(t)},className:"UserInput"},t.isNew&&r.a.createElement("textarea",{className:"UserText",placeholder:"Type your translation here.",value:a,onChange:function(t){e.handleChange(a,t)}}),!t.isNew&&r.a.createElement("div",{className:"UserText"},r.a.createElement("p",null,this.state.input)),r.a.createElement(d,{label:n}))}}]),t}(n.Component);function d(e){return r.a.createElement("button",{type:"submit",className:"Button"},e.label)}var E=new(a(179)),v=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(h.a)(t).call(this,e))).state={isNew:a.props.isNew,haveText:!1,pages:-1,from:a.props.from,to:a.props.to},a.HandleClick=a.HandleClick.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.Init()}},{key:"render",value:function(){var e=this;void 0!==this.state.pages&&this.state.pages>0&&this.state.isNew&&!this.state.haveText&&this.GetText();var t={DE:"",EN:"",FR:"",JP:""},a="",n="";return void 0!==this.state.text&&(t=this.state.text),"EN"===this.state.to?n=t.EN:"JP"===this.state.to?n=t.JP:"FR"===this.state.to?n=t.FR:"DE"===this.state.to&&(n=t.DE),"EN"===this.state.from?a=t.EN:"JP"===this.state.from?a=t.JP:"FR"===this.state.from?a=t.FR:"DE"===this.state.from&&(a=t.DE),r.a.createElement("div",{className:"ContentContainer"},r.a.createElement(g,null),r.a.createElement(m,null,r.a.createElement("div",{className:"LanguageSelector"},r.a.createElement("label",null,"Translate",r.a.createElement("select",{value:this.state.from,onChange:function(t){return e.ChangeLang(t,"from")}},r.a.createElement("option",{value:"DE"},"deutsche"),r.a.createElement("option",{value:"EN"},"English"),r.a.createElement("option",{value:"FR"},"Fran\xe7aise"),r.a.createElement("option",{value:"JP"},"\u65e5\u672c\u8a9e"))),r.a.createElement("label",null,"\u2794",r.a.createElement("select",{value:this.state.to,onChange:function(t){return e.ChangeLang(t,"to")}},r.a.createElement("option",{value:"DE"},"deutsche"),r.a.createElement("option",{value:"JP"},"\u65e5\u672c\u8a9e"),r.a.createElement("option",{value:"FR"},"Fran\xe7aise"),r.a.createElement("option",{value:"EN"},"English")))),r.a.createElement("div",{className:"OfficialText SourceText"},this.state.isNew&&!this.state.haveText&&r.a.createElement("p",null,"Loading..."),this.state.haveText&&r.a.createElement("p",null,a)),r.a.createElement(f,{pState:this.state,handleClick:this.HandleClick}),r.a.createElement("div",{className:"OfficialText TargetText"},!this.state.isNew&&r.a.createElement("p",null,n))))}}]),t}(function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"HandleClick",value:function(e){e.preventDefault(),this.state.isNew?this.setState({isNew:!1}):this.setState({isNew:!0,haveText:!1})}},{key:"ChangeLang",value:function(e,t){e.preventDefault();var a=e.target.value;"to"===t?this.setState({to:a}):"from"===t?this.setState({from:a}):console.error("Error: Language direction not found.")}},{key:"Init",value:function(){var e=this;E.data.list("Quest").then(function(t){e.setState({pages:parseInt(t.Pagination.PageTotal)})}).catch(function(e){console.error("Error in Init(): ",e)})}},{key:"GetText",value:function(){var e=this,t=-1;void 0!==this.state.pages&&(t=this.RNG(this.state.pages),t++),E.data.list("Quest?page=".concat(t)).then(function(t){var a,n=-1;do{n=e.RNG(t.Pagination.Results),"Testdfghjkl;"===(a=t.Results[n].Name)&&(a="")}while(""===a);n=t.Results[n].ID,E.data.get("Quest",n).then(function(t){var a,n=-1;do{a=e.RNG(t.TextData.Dialogue.length),"\uff08\u2605\u672a\u4f7f\u7528\uff0f\u524a\u9664\u4e88\u5b9a\u2605\uff09"===t.TextData.Dialogue[a].Text&&"\uff08\u30ab\u30c3\u30c8\uff09"===t.TextData.Dialogue[a].Text||(n=parseInt(t.TextData.Dialogue[a].Order))}while(-1===n);e.setState({text:{DE:e.AssignText(t.TextData_de.Dialogue,n,a),EN:e.AssignText(t.TextData_en.Dialogue,n,a),FR:e.AssignText(t.TextData_fr.Dialogue,n,a),JP:e.AssignText(t.TextData_ja.Dialogue,n,a)},haveText:!0})}).catch(function(e){console.error("Error in getting item ".concat(n,": "),e)})}).catch(function(e){console.error("Error in getting page ".concat(t,": "),e)})}},{key:"RNG",value:function(e){return Math.floor(Math.random()*Math.floor(e))}},{key:"AssignText",value:function(e,t,a){var n="";if(parseInt(e[a].Order)===t)n=e[a].Text;else{a=0;do{parseInt(e[a].Order)===t?n=e[a].Text:a++}while(""===n)}return/</.test(n)&&(n=this.ReplaceCode(n)),n}},{key:"ReplaceCode",value:function(e){e=(e=(e=(e=e.replace(/<SoftHyphen\/>/g,"-")).replace(/<Indent\/>/g,"")).replace(/<.?Emphasis>/g,"")).replace(/<UIForeground>.?[0-9]*<\/UIForeground>/g,""),/PlayerParameter/.test(e)&&(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/<If.{0,7}\(PlayerParameter\(4\).{0,3}\)>/g,"<If>")).replace(/<If\(LessThan\(PlayerParameter\(11\),\d{1,3}\)\)>/g,"<If>")).replace(/<If\(GreaterThan\(PlayerParameter\(5\d\),0\)\)>/g,"<If>")).replace(/<Sheet\(GCRankLimsaMaleText,PlayerParameter\(52\),\d\)\/>/g,"[[\u2642 Limsa Rank]]")).replace(/<Sheet\(GCRankGridaniaMaleText,PlayerParameter\(53\),\d\)\/>/g,"[[\u2642 Gridania Rank]]")).replace(/<Sheet\(GCRankUldahMaleText,PlayerParameter\(54\),\d\)\/>/g,"[[\u2642 Ul'dah Rank]]")).replace(/<Sheet\(GCRankLimsaFemaleText,PlayerParameter\(52\),\d\)\/>/g,"[[\u2640 Limsa Rank]]")).replace(/<Sheet\(GCRankGridaniaFemaleText,PlayerParameter\(53\),\d\)\/>/g,"[[\u2640 Gridania Rank]]")).replace(/<Sheet\(GCRankUldahFemaleText,PlayerParameter\(54\),\d\)\/>/g,"[[\u2640 Ul'dah Rank]]")).replace(/<If\(Equal\(PlayerParameter\(68\),\d{0,2}\)\)>/g,"<If>")).replace(/<Sheet\(ClassJob,PlayerParameter\(68\),\d{0,2}\)\/>/g,"[[class/job]]"),/<Switch\(PlayerParameter\(70\)\)>/.test(e)&&(e=(e=(e=(e=(e=(e=e.replace(/<Switch\(PlayerParameter\(70\)\)>/g,"(")).replace(/<Case\(1\)>/g," [[Limsa/Ul'dah]] ")).replace(/<Case\(2\)>/g," [[Gridania]] ")).replace(/<Case\(3\)>/g," [[Limsa/Ul'dah]] ")).replace(/<\/Case><\/Switch>/g,")")).replace(/<\/Case>/g,"/")),e=e.replace(/<If.{0,6}\(PlayerParameter\(71\).{0,4}\)>/g,"<If>"));return/ObjectParameter\(1\)/.test(e)&&(e=(e=e.replace(/<Split\(<Highlight>ObjectParameter\(1\)<\/Highlight>,.{0,3},.{0,3}\)\/>/g,"[[character name]]")).replace(/<Highlight>ObjectParameter\(1\)<\/Highlight>/g,"[[character name]]")),/<Sheet/.test(e)&&(e=(e=(e=(e=e.replace(/<Sheet.{0,4}EObj.{6,18}\/>/g,"[[Event Object]]")).replace(/<Sheet.{0,4}BNpcName.{6,18}\/>/g,"[[monster]]")).replace(/<Sheet.{0,9}Item.{6,18}\/>/g,"[[item]]")).replace(/<If\(\[\[.{1,13}\]\]\)>/g,"<If>")),/<If>/.test(e)&&(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/<If><If>/g,"(")).replace(/<\/If><Else\/><If>/g,"/")).replace(/<\/If><\/If>/g,")")).replace(/<If><Else\/>/g,"(")).replace(/<Else\/><\/If>/g,")")).replace(/<If>/g,"(")).replace(/<Else\/>/g,"/")).replace(/<\/If>/g,")")),(/\({2,}/.test(e)||/\/{2,}/.test(e)||/\){2,}/.test(e)||/\)\//.test(e)||/\/\(/.test(e))&&(e=(e=(e=(e=(e=e.replace(/\({2,}/g,"(")).replace(/\/{2,}/g,"/")).replace(/\){2,}/g,")")).replace(/\)\//g,"/")).replace(/\/\(/g,"/")),e=e.replace(/\//g,"/\u200b")}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(v,{isNew:!0,from:"JP",to:"EN"}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[173,1,2]]]);
//# sourceMappingURL=main.6336503c.chunk.js.map